@using TicTacToe.Resources
@model TicTacToe.Models.MVC.Game.Game
@{
    ViewData["Title"] = GameStrings.PlayPageTitle;
}

<div class="container w-50">
    <div class="row mh-100">
        <div class="col">
            @if(Model.StartDateTime == null) 
            { 
            <form id="userInfoForm" class="row" asp-action="StartGame" asp-controller="Game" method="POST">
                <partial name="CreateOrUpdatePlayerPartial"/>
                <partial name="LevelPartial" />
                <button type="submit" class="btn btn-dark m-3">@GameStrings.PlayButton</button>
            </form>
                }
                else
                {
                <partial name="GameInfoPartial" model="@Model" />
                <div class="col">
                    <partial name="GameGridPartial" model="@Model.GameCells" />
                </div>
                }
</div>
        
</div>
</div>

@section Scripts
{
    <script type="text/javascript">
        $(function () {
            TicTacToe.Views.Game.Init({
                MakePlayerMoveUrl: '@Url.Action("AjaxMakePlayerMove")',
                MakeComputerMoveUrl: '@Url.Action("AjaxMakeComputerMove")',
                UpdateGameInfoUrl: '@Url.Action("UpdateGameInfo")'
            });
        });
    </script>
}